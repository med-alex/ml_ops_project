schema: '2.0'
stages:
  get_features:
    cmd: python3 scripts/data_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: a412d6a32285dd29b837efb2c72aac22
      size: 6188
    - path: scripts/data_scripts/get_features.py
      hash: md5
      md5: 623b747756a43b667c9f75176083be5d
      size: 1368
    outs:
    - path: data/stage1
      hash: md5
      md5: 196fbd6c577aa770d841c9a6528677d9.dir
      size: 6098
      nfiles: 1
  fill_na:
    cmd: python3 scripts/data_scripts/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: c985bc31b662025a7c42ae07e84a7a69
      size: 6098
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 46c23b005af999fd0902a067cc32d442
      size: 2766
    outs:
    - path: data/stage2
      hash: md5
      md5: 196fbd6c577aa770d841c9a6528677d9.dir
      size: 6098
      nfiles: 1
  text_to_numeric:
    cmd: python3 scripts/data_scripts/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: c985bc31b662025a7c42ae07e84a7a69
      size: 6098
    - path: scripts/data_scripts/change_text_to_numeric.py
      hash: md5
      md5: 2380c4617de9bdec35de4a4d1ab578c8
      size: 4256
    outs:
    - path: data/stage3
      hash: md5
      md5: 7d1de39118b11cdafebef820281cf63c.dir
      size: 2431
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage3/train.csv
    deps:
    - path: data/stage3/train.csv
      hash: md5
      md5: a1600c7043d93528c8aaedd7f1590b67
      size: 2431
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 8cf798f20606211c76578eaa69b605e2
      size: 973
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/stage4
      hash: md5
      md5: 401b4dd6a9d8a822779753d5339198ba.dir
      size: 2431
      nfiles: 2
  train:
    cmd: python3 scripts/model_learn/dt.py data/stage4/train.csv model.pkl
    deps:
    - path: data/stage4/train.csv
      hash: md5
      md5: 146a439bf771fa04eae6272effe519a2
      size: 1683
    - path: scripts/model_learn/dt.py
      hash: md5
      md5: 61c2c58996b2791004f85140f3614a38
      size: 859
    params:
      params.yaml:
        train.max_depth: 3
        train.n_estimators: 10000
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 3b4f636c85911cef8b01f298814219cd
      size: 6974226
  evaluate:
    cmd: python3 scripts/model_learn/evaluate.py data/stage4/test.csv models/model.pkl
    deps:
    - path: data/stage4/test.csv
      hash: md5
      md5: 4df310328b8050409b7a2c0c1738ab54
      size: 748
    - path: models/model.pkl
      hash: md5
      md5: 3b4f636c85911cef8b01f298814219cd
      size: 6974226
    - path: scripts/model_learn/evaluate.py
      hash: md5
      md5: ec833250a1d351984bd553868e80c8ec
      size: 661
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: ff54f6e5b3cea7e604e5391b99c5634e
      size: 23
