schema: '2.0'
stages:
  get_features:
    cmd: python3 scripts/data_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: a412d6a32285dd29b837efb2c72aac22
      size: 6188
    - path: scripts/data_scripts/get_features.py
      hash: md5
      md5: 623b747756a43b667c9f75176083be5d
      size: 1368
    outs:
    - path: data/stage1
      hash: md5
      md5: 196fbd6c577aa770d841c9a6528677d9.dir
      size: 6098
      nfiles: 1
  fill_na:
    cmd: python3 scripts/data_scripts/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: c985bc31b662025a7c42ae07e84a7a69
      size: 6098
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: 46c23b005af999fd0902a067cc32d442
      size: 2766
    outs:
    - path: data/stage2
      hash: md5
      md5: 196fbd6c577aa770d841c9a6528677d9.dir
      size: 6098
      nfiles: 1
  text_to_numeric:
    cmd: python3 scripts/data_scripts/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: c985bc31b662025a7c42ae07e84a7a69
      size: 6098
    - path: scripts/data_scripts/change_text_to_numeric.py
      hash: md5
      md5: 2380c4617de9bdec35de4a4d1ab578c8
      size: 4256
    outs:
    - path: data/stage3
      hash: md5
      md5: 7d1de39118b11cdafebef820281cf63c.dir
      size: 2431
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage3/train.csv
    deps:
    - path: data/stage3/train.csv
      hash: md5
      md5: a1600c7043d93528c8aaedd7f1590b67
      size: 2431
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 2999caabbe74be13f3ef96c514e8c946
      size: 973
    params:
      params.yaml:
        split.split_ratio: 0.5
    outs:
    - path: data/stage4
      hash: md5
      md5: 5e59076f502e20f3db415bdf46f26d0a.dir
      size: 2431
      nfiles: 2
  train:
    cmd: python3 scripts/model_learn/dt.py data/stage4/train.csv model.pkl
    deps:
    - path: data/stage4/train.csv
      hash: md5
      md5: e274fdfac1350d333130d5adc9ad3f72
      size: 1218
    - path: scripts/model_learn/dt.py
      hash: md5
      md5: f27d2733329dd381f19762365e66298d
      size: 864
    params:
      params.yaml:
        train.max_depth: 3
        train.n_estimators: 100
    outs:
    - path: models/model.pkl
      hash: md5
      md5: a7172d16b564c50600479f0ed385e674
      size: 250615
  evaluate:
    cmd: python3 scripts/model_learn/evaluate.py data/stage4/test.csv models/model.pkl
    deps:
    - path: data/stage4/test.csv
      hash: md5
      md5: e12f2e32e26094c28e649a4743057342
      size: 1213
    - path: models/model.pkl
      hash: md5
      md5: a7172d16b564c50600479f0ed385e674
      size: 250615
    - path: scripts/model_learn/evaluate.py
      hash: md5
      md5: ec833250a1d351984bd553868e80c8ec
      size: 661
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: bbd9a29bcb2d2a391c6a2467b7b6c48e
      size: 38
